# 工作日誌 2026-02-24

## 平台相容性優化 (PC & CircuitPython)
- **[產生器]** 實作 `Blockly.Python.PLATFORM` 注入機制，使產生器能根據目前模式切換代碼風格。
- **[結構]** 優化 `py_main` 入口積木，在 MCU 模式下自動移除 `if __name__ == "__main__":` 封裝，改為直接執行。
- **[通訊]** 重構 Serial (IO) 模組產生器，在 PC 模式維持使用 `pyserial`，在 MCU 模式自動切換為 `usb_cdc` (data channel)，並具備連線狀態檢查。
- **[硬體]** 優化 `mcu_set_led` 積木，在 MCU 模式下自動注入 `digitalio` 與 `board` 初始化代碼，並具備全域物件檢查機制防止重複宣告。

## 核心架構
- **[UI]** 確保切換平台模式時，Blockly 產生器環境變數同步更新。
- **[規範]** 完成全域與模組產生器的平台適配檢查。
