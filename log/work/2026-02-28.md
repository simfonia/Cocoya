
## 2026-02-28 任務紀錄: 里程碑 v3.0 硬體 AI 整合
- **核心進度**:
    - **AI 相機模組 (mcu_camera)**: 完成 XIAO ESP32S3 Sense 初始化與 Data Collection 採集積木。
    - **HuskyLens 模組 (mcu_huskylens)**: 透過 I2C 實作 HuskyLens 偵測數據讀取 (X, Y, W, H, ID)。
    - **πCar 控制模組 (mcu_car)**: 完成 Maker Pi RP2040 馬達與舵機控制，採 PWM 手動計算以達成「零依賴」環境。
- **架構優化**:
    - 更新 core_manifest.json 與 zh-hant.js 全域分類與配色。
    - 驗證 module_loader.js 對子目錄語系檔的載入能力。
- **教學目標對齊**: 成功建立「資料採集 (mcu_camera) -> 落地應用 (mcu_car / husky)」的積木工具鏈。


## 2026-02-28 任務紀錄: 硬體 AI 深度整合與核心標準化 (里程碑 v3.1)
- **硬體模組實作**:
    - **mcu_camera**: 支援 XIAO ESP32S3 Sense 相機初始化與 Base64 採集傳輸。
    - **mcu_huskylens**: 透過 I2C 解析 HuskyLens 二進位協議，實作座標與 ID 偵測。
    - **mcu_car**: 針對 Maker Pi RP2040 實作馬達與舵機控制 (PWM 零依賴實作)。
- **架構重大更新**:
    - **積木級別平台過濾**: 在 Toolbox 支援 platform 屬性，實作 py_main (PC) 與 mcu_main (MCU) 的動態切換。
    - **核心全模組 i18n 化**: 巡檢並修正 structure, io, logic, loops, math, 	ext, 	ypes, coding, ariables, unctions 十大核心模組，徹底移除硬編碼文字。
    - **維持原始碼風格 (Source Code Style)**: 中英文介面皆維持 Python 關鍵字外觀 (如 import, while, print())，兼顧美學與學習效果。
- **UI/UX 優化**:
    - 實作 MCU 模式專屬初始結構：自動產生 Global Definitions 與帶有 while True 的 Main Program。
    - 強化序列埠與三元運算積木的 Tooltip 說明，提升初學者易讀性。
- **系統規範**:
    - 同步更新 system_spec.html 至 v3.1，詳載 i18n 階層架構與過濾機制。


## 2026-02-28 任務紀錄: πCar 模組全面移植 (里程碑 v3.2)
- **硬體功能對齊**: 成功將 #piBlockly C++ 版所有 πCar 積木移植至 CircuitPython 實作。
- **動作系統優化**: 實作 \PiCarServo\ Helper 類別，支援脈衝校準 (460-2400us)、流暢移動演算法與單雙手比例控制。
- **音樂引擎突破**: 實作 \MusicEngine\ 與 Regex 旋律解析器，支援 \C4Q, R4H\ 等複合字串解析（含休止符）。
- **感測器整合**: 完成手動脈衝計時超音波、數位與類比（映射 0-1023）循跡偵測。
- **介面專業化**:
    - **雙軌制外觀**: 應用積木採用自然語言友善 UI，核心積木維持 Python 風格。
    - **Toolbox 重構**: 引入 \<label>\ 與 \gap\ 屬性，建立結構化功能分組。
    - **全模組 i18n**: 完成 πCar 所有功能之中英文語系同步。
- **Bug 修復**: 解決了多行文字欄位類型、積木定義遺失與部署程序序列埠佔用等關鍵問題。


- **專案清理**: 刪除了廢棄的 \core/common\ 模組目錄，維持代碼庫精簡。


- **音樂引擎強化**: 為 \MusicEngine\ 加入音量控制功能，支援透過 PWM 佔空比模擬 0-100 音量調節。


- **旋律引擎完善**: 支援升記號 (#) 解析，修正多行文字預設換行顯示問題，並更新預設旋律為更具表現力的範例。

