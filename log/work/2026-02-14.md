# Cocoya 工作日誌 (2026-02-14)

## 本日進度
- **UI 工具列實作**：
    - 在 Webview 頂部加入工具列，包含：開新專案、開啟專案、儲存、另存、更新、關閉。
    - 使用指定 icons (new, load_project, save, save_as, published_with_changes, dangerous) 並實作 hover 切換效果。
- **檔案操作與通訊**：
    - 連結 Webview 與 Extension Host，實作 XML 專案檔的讀取與寫入。
    - 使用 VS Code 原生 `showOpenDialog` 與 `showSaveDialog` 確保使用者體驗一致。
- **髒狀態 (Dirty State) 追蹤**：
    - 監聽 Blockly 變動事件，當工作區修改時，「儲存」按鈕會出現粉紅底線標記。
    - 儲存後或載入檔案後自動清除髒狀態。
- **動作回饋**：
    - 模仿 piBlockly 實作按鈕點擊後的閃爍效果 (Flash effect)。
    - 「更新」動作會觸發 Extension 跳出提示訊息，並回傳成功狀態以清除閃爍。

## 變更檔案
- `media/index.html`: 加入工具列 HTML/CSS。
- `media/ui_manager.js`: 實作 `initToolbar`, `setDirty`, `flashButton`。
- `media/main.js`: 綁定事件監聽與 Host 訊息處理。
- `src/extension.ts`: 實作檔案操作 Command Handler。
- `media/zh-hant.js`: 更新語系與顏色定義。
